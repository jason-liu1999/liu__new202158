(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{15:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(33),i=a.n(n),r=(a(41),a(4)),l=a(5),o=a(7),j=a(6),d=(a(42),a(15),a(9)),h=a(13),u=a.n(h),b=a(17),m=a.n(b),x=a(0),O=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={auth:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.subscribe("auth",(function(t,a){e.setState({auth:a})}))}},{key:"render",value:function(){return u.a.get("auth")?Object(x.jsx)("div",{children:Object(x.jsx)("nav",{className:"navbar navbar-light",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("a",{className:"navbar-brand",href:"index.html",children:"conduit"}),Object(x.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(d.b,{className:"nav-link active",to:"/",children:"Home"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)(d.b,{className:"nav-link",to:"/editor",activeClassName:"active",children:[Object(x.jsx)("i",{className:"ion-compose"}),"\xa0New Article"]})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)(d.b,{className:"nav-link",to:"/Set",activeClassName:"active",children:[Object(x.jsx)("i",{className:"ion-gear-a"}),"\xa0Settings"]})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)(d.b,{className:"nav-link ng-binding active","ui-sref-active":"active","ui-sref":"app.profile.main({ username: $ctrl.currentUser.username })",to:"/profile",activeClassName:"active",children:[Object(x.jsx)("img",{className:"user-pic","ng-src":"https://z3.ax1x.com/2021/04/29/gFXnCF.png",src:"https://z3.ax1x.com/2021/04/29/gFXnCF.png"}),"jeason-\u6765"]})})]})]})})}):Object(x.jsx)("div",{children:Object(x.jsx)("nav",{className:"navbar navbar-light",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("a",{className:"navbar-brand",href:"index.html",children:"conduit"}),Object(x.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(d.b,{className:"nav-link active",to:"/",children:"Home"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(d.b,{className:"nav-link",to:"/login",activeClassName:"active",children:"Sign in"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(d.b,{className:"nav-link",to:"/register",activeClassName:"active",children:"Sign up"})})]})]})})})}}]),a}(s.Component),p=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("footer",{children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("a",{href:"/",className:"logo-font",children:"conduit"}),Object(x.jsxs)("span",{className:"attribution",children:["An interactive learning project from ",Object(x.jsx)("a",{href:"https://thinkster.io",children:"Thinkster"}),". Code & design licensed under MIT."]})]})})}}]),a}(s.Component),f=a(23),v=a.n(f),g=a(35),N=a(14),k=a(36),y=a.n(k).a.create({baseURL:"https://conduit.productionready.io"});y.interceptors.request.use((function(e){return e.headers.Authorization="Token "+u.a.get("auth"),e}),(function(e){return Promise.reject(e)}));var w=y,S=(a(69),function(e){var t=e.slug;return console.log("item.slug",e),w.interceptors.request.use((function(e){return e.headers.Authorization="Token "+u.a.get("auth"),e}),(function(e){return Promise.reject(e)})),w({method:"POST",url:"/api/articles/".concat(t,"/favorite")})}),C=function(e){var t=e.slug;return w.interceptors.request.use((function(e){return e.headers.Authorization="Token "+u.a.get("auth"),e}),(function(e){return Promise.reject(e)})),w({method:"DELETE",url:"/api/articles/".concat(t,"/favorite")})},P=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).onclick=function(e){s.setState({currentPage:e}),console.log(e),w({method:"get",url:"/api/articles",params:{limit:s.state.rows,offset:e*s.state.rows}}).then((function(e){200===e.status&&(s.setState({data:e.data.articles}),console.log(s.state.data))}))},s.state={data:[],tag:[],rows:30,currentPage:0,groupCount:5,startPage:1,totalPage:1,favoritedisabled:!1},s.onclick=s.onclick.bind(Object(N.a)(s)),s.fnFavorite=s.fnFavorite.bind(Object(N.a)(s)),s}return Object(l.a)(a,[{key:"fnFavorite",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({favoritedisabled:!0});case 2:if(!t.favorited){e.next=16;break}return e.next=5,C(t).then((function(e){console.log("\u53d6\u6d88",e)}));case 5:return t.favorited=!1,t.favoritesCount+=-1,a=this.state.data.indexOf(t),console.log("\u53d6\u6d88-----",a),this.state.data[a]=t,e.next=12,this.setState({data:this.state.data});case 12:return e.next=14,this.setState({favoritedisabled:!0});case 14:e.next=25;break;case 16:return e.next=18,S(t).then((function(e){console.log("\u6dfb\u52a0",e)}));case 18:return t.favorited=!0,t.favoritesCount+=1,s=this.state.data.indexOf(t),console.log("\u6dfb\u52a0-----",s),this.state.data[s]=t,e.next=25,this.setState({data:this.state.data});case 25:return e.next=27,this.setState({favoritedisabled:!1});case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;w({method:"get",url:"/api/tags"}).then((function(t){e.setState({tag:t.data.tags})})),w({method:"get",url:"/api/articles",params:{limit:this.state.rows,offset:this.state.currentPage}}).then((function(t){200===t.status&&e.setState({data:t.data.articles,totalPage:Math.ceil(t.data.articlesCount/e.state.rows)})}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"home-page",children:[Object(x.jsx)("div",{className:"banner",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h1",{className:"logo-font",children:"conduit"}),Object(x.jsx)("p",{children:"A place to share your knowledge."})]})}),Object(x.jsx)("div",{className:"container page",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-9",children:[Object(x.jsx)("div",{className:"feed-toggle",children:Object(x.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link disabled",href:"",children:"Your Feed"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link active",href:"",children:"Global Feed"})})]})}),this.state.data.map((function(t,a){return Object(x.jsxs)("div",{className:"article-preview",children:[Object(x.jsxs)("div",{className:"article-meta",children:[Object(x.jsx)("a",{href:"profile.html",children:Object(x.jsx)("img",{src:t.author.image})}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("a",{href:"",className:"author",children:t.author.username}),Object(x.jsx)("span",{className:"date",children:t.createdAt})]}),Object(x.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",disabled:e.state.favoritedisabled,onClick:function(){e.fnFavorite(t)},children:[Object(x.jsx)("i",{className:"ion-heart"})," ",t.favoritesCount]})]}),Object(x.jsxs)("a",{href:"",className:"preview-link",children:[Object(x.jsx)("h1",{children:t.title}),Object(x.jsx)("p",{children:t.description}),Object(x.jsx)("span",{children:"read more....."})]})]},a)}))]}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsxs)("div",{className:"sidebar",children:[Object(x.jsx)("p",{children:"Popular Tags"}),Object(x.jsx)("div",{className:"tag-list",children:this.state.tag.map((function(e,t){return Object(x.jsx)("a",{href:"",className:"tag-pill tag-default",children:e},t)}))})]})}),Object(x.jsx)("div",{children:Object(x.jsx)("ul",{className:"pagination",children:Array.from(Array(this.state.totalPage),(function(t,a){return Object(x.jsx)("li",{className:"page-item",children:Object(x.jsx)(d.b,{to:"/",className:e.state.currentPage===a?"navlink ":"page-link",onClick:function(){e.onclick(a)},children:a+1})},a)}))})})]})})]})}}]),a}(s.Component),B=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"editor-page",children:Object(x.jsx)("div",{className:"container page",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:Object(x.jsx)("form",{children:Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title"})}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"What's this article about?"})}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)"})}),Object(x.jsxs)("fieldset",{className:"form-group",children:[Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter tags"}),Object(x.jsx)("div",{className:"tag-list"})]}),Object(x.jsx)("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"button",children:"Publish Article"})]})})})})})})}}]),a}(s.Component),F=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",onBlur:this.onBlur3})})})}}]),a}(c.a.Component),T=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).onBlur1=s.onBlur1.bind(Object(N.a)(s)),s.onBlur2=s.onBlur2.bind(Object(N.a)(s)),s.onBlur3=s.onBlur3.bind(Object(N.a)(s)),s.submit=s.submit.bind(Object(N.a)(s)),s.state={email:"",password:"",userName:""},s}return Object(l.a)(a,[{key:"onBlur1",value:function(e){this.setState({email:e.target.value})}},{key:"onBlur2",value:function(e){this.setState({password:e.target.value})}},{key:"onBlur3",value:function(e){this.setState({userName:e.target.value})}},{key:"submit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password,username:this.state.userName};w({method:"post",url:"/api/users/login",data:{user:a}}).then((function(e){u.a.set("auth",e.data.user.token),t.props.history.push("/"),m.a.publish("auth",e.data.user.token)}))}},{key:"isLogin",value:function(){return"/login"===this.props.match.path}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"auth-page",children:Object(x.jsx)("div",{className:"container page",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(x.jsx)("h1",{className:"text-xs-center",children:this.isLogin()?"Sign in":"Sign up"}),Object(x.jsx)("p",{className:"text-xs-center",children:Object(x.jsx)("a",{href:"",children:this.isLogin()?"Need an account":" Have an account"})}),Object(x.jsx)("ul",{className:"error-messages",children:Object(x.jsx)("li",{children:"That email is already taken"})}),Object(x.jsxs)("form",{children:[this.isLogin()?"":Object(x.jsx)(F,{}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",onBlur:this.onBlur1})}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",onBlur:this.onBlur2})}),Object(x.jsx)("button",{onClick:this.submit,className:"btn btn-lg btn-primary pull-xs-right",children:this.isLogin()?" Sign in":"  Sign up"})]})]})})})})}}]),a}(s.Component),A=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"settings-page",children:Object(x.jsx)("div",{className:"container page",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(x.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),Object(x.jsx)("form",{children:Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control",type:"text",placeholder:"URL of profile picture"})}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name"})}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you"})}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email"})}),Object(x.jsx)("fieldset",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password"})}),Object(x.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:"Update Settings"})]})})]})})})})}}]),a}(s.Component),E=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"profile-page",children:[Object(x.jsx)("div",{className:"user-info",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(x.jsx)("img",{src:"http://i.imgur.com/Qr71crq.jpg",className:"user-img"}),Object(x.jsx)("h4",{children:"Eric Simons"}),Object(x.jsx)("p",{children:"Cofounder @GoThinkster, lived in Aol's HQ for a few months, kinda looks like Peeta from the Hunger Games"}),Object(x.jsxs)("button",{className:"btn btn-sm btn-outline-secondary action-btn",children:[Object(x.jsx)("i",{className:"ion-plus-round"}),"\xa0 Follow Eric Simons"]})]})})})}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(x.jsx)("div",{className:"articles-toggle",children:Object(x.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link active",href:"",children:"My Articles"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link",href:"",children:"Favorited Articles"})})]})}),Object(x.jsxs)("div",{className:"article-preview",children:[Object(x.jsxs)("div",{className:"article-meta",children:[Object(x.jsx)("a",{href:"",children:Object(x.jsx)("img",{src:"http://i.imgur.com/Qr71crq.jpg"})}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("a",{href:"",className:"author",children:"Eric Simons"}),Object(x.jsx)("span",{className:"date",children:"January 20th"})]}),Object(x.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",children:[Object(x.jsx)("i",{className:"ion-heart"})," 29"]})]}),Object(x.jsxs)("a",{href:"",className:"preview-link",children:[Object(x.jsx)("h1",{children:"How to build webapps that scale"}),Object(x.jsx)("p",{children:"This is the description for the post."}),Object(x.jsx)("span",{children:"Read more..."})]})]}),Object(x.jsxs)("div",{className:"article-preview",children:[Object(x.jsxs)("div",{className:"article-meta",children:[Object(x.jsx)("a",{href:"",children:Object(x.jsx)("img",{src:"http://i.imgur.com/N4VcUeJ.jpg"})}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("a",{href:"",className:"author",children:"Albert Pai"}),Object(x.jsx)("span",{className:"date",children:"January 20th"})]}),Object(x.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",children:[Object(x.jsx)("i",{className:"ion-heart"})," 32"]})]}),Object(x.jsxs)("a",{href:"",className:"preview-link",children:[Object(x.jsx)("h1",{children:"The song you won't ever stop singing. No matter how hard you try."}),Object(x.jsx)("p",{children:"This is the description for the post."}),Object(x.jsx)("span",{children:"Read more..."}),Object(x.jsxs)("ul",{className:"tag-list",children:[Object(x.jsx)("li",{className:"tag-default tag-pill tag-outline",children:"Music"}),Object(x.jsx)("li",{className:"tag-default tag-pill tag-outline",children:"Song"})]})]})]})]})})})]})}}]),a}(s.Component),L=a(2),M=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={auth:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.subscribe("auth",(function(t,a){e.setState={auth:a}}))}},{key:"render",value:function(){return u.a.get("auth")?Object(x.jsx)("div",{children:Object(x.jsxs)(d.a,{children:[Object(x.jsx)(O,{}),Object(x.jsxs)(L.c,{children:[Object(x.jsx)(L.a,{exact:!0,path:"/",component:P}),Object(x.jsx)(L.a,{exact:!0,path:"/editor",component:B}),Object(x.jsx)(L.a,{exact:!0,path:"/Set",component:A}),Object(x.jsx)(L.a,{exact:!0,path:"/Profile",component:E})]}),Object(x.jsx)(p,{})]})}):Object(x.jsx)("div",{children:Object(x.jsxs)(d.a,{children:[Object(x.jsx)(O,{}),Object(x.jsxs)(L.c,{children:[Object(x.jsx)(L.a,{exact:!0,path:"/",component:P}),Object(x.jsx)(L.a,{exact:!0,path:"/register",component:T}),Object(x.jsx)(L.a,{exact:!0,path:"/login",component:T}),Object(x.jsx)(L.a,{exact:!0,path:"/Profile",component:E})]}),Object(x.jsx)(p,{})]})})}}]),a}(c.a.Component),D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};i.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root")),D()}},[[70,1,2]]]);
//# sourceMappingURL=main.8e140bfc.chunk.js.map